{"version":3,"sources":["components/Login/Login.jsx","components/Header/Header.jsx","components/Game/Game.jsx","components/Content/Content.jsx","components/Footer/Footer.jsx","App.jsx","index.jsx"],"names":["Login","nameQuery","handleInputChange","handleSubmit","isNameCorrect","isGuest","setIsGuest","className","type","name","value","placeholder","autoComplete","onChange","onClick","disabled","defaultProps","Header","balance","userName","src","alt","Game","isActive","setIsActive","scoresList","setScoresList","setBalance","spinCost","length","record","x","y","z","handleCLick","handleSpin","min","max","Math","floor","random","splice","id","time","Date","toLocaleTimeString","changeBalance","every","item","aria-hidden","e","stopPropagation","Content","useState","onSort","slice","reverse","data-value","map","index","join","Footer","href","App","isLoggedIn","setIsLoggedIn","setNameQuery","setUserName","setIsNameCorrect","user","localStorage","setItem","JSON","stringify","parse","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9721c8f3.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Login = ({\n  nameQuery,\n  handleInputChange,\n  handleSubmit,\n  isNameCorrect,\n  isGuest,\n  setIsGuest,\n}) => (\n  <div className=\"App__login login\">\n    <form className=\"form\">\n      <input\n        type=\"text\"\n        name=\"nameQuery\"\n        value={nameQuery}\n        placeholder=\"Enter name\"\n        className=\"form__input\"\n        autoComplete=\"off\"\n        onChange={handleInputChange}\n      />\n    </form>\n\n    <div className=\"login__buttons\">\n      <button\n        className=\"login__button login__button--login button\"\n        type=\"submit\"\n        onClick={handleSubmit}\n        disabled={!isNameCorrect}\n      >\n        Login\n      </button>\n\n      <button\n        className=\"login__button login__button--guest button\"\n        type=\"submit\"\n        onClick={() => setIsGuest(!isGuest)}\n      >\n        Play as a guest\n      </button>\n    </div>\n  </div>\n);\n\nLogin.propTypes = {\n  nameQuery: PropTypes.string.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  isNameCorrect: PropTypes.bool.isRequired,\n  setIsGuest: PropTypes.func.isRequired,\n  isGuest: PropTypes.bool,\n};\n\nLogin.defaultProps = {\n  isGuest: false,\n};\n","/* eslint-disable max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './Header.scss';\n\nconst logoUrl = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRp-Zzvv-TLU6SCJK2zeY5ZOeLEm50zr8l69FiyhIBO9xVcbXNitxYmicK1siYeb9-PpLQ&usqp=CAU';\nconst avatarUrl = 'https://leadpilates.com/wp-content/uploads/2019/04/avatar-male.jpg';\n\nexport const Header = ({ balance, userName, isGuest }) => (\n  <header className=\"App__header header\">\n    <div className=\"header__logo\">\n      <img src={logoUrl} alt=\"logo\" />\n    </div>\n\n    <div className=\"header__user user\">\n      {!isGuest\n      && (\n        <p className=\"user__balance\">\n          $\n          <strong>{+balance}</strong>\n        </p>\n      )}\n      <div className=\"user__info\">\n        <div className=\"user__avatar\">\n          <img src={avatarUrl} alt=\"avatar\" />\n        </div>\n\n        <p className=\"user__name\">{userName || 'Guest'}</p>\n      </div>\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  balance: PropTypes.number.isRequired,\n  userName: PropTypes.string.isRequired,\n  isGuest: PropTypes.bool.isRequired,\n};\n","/* eslint-disable no-mixed-operators */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './Game.scss';\n\nexport const Game = ({\n  isActive,\n  setIsActive,\n  scoresList,\n  setScoresList,\n  balance,\n  setBalance,\n  spinCost,\n}) => {\n  let [x, y, z] = (scoresList).length > 0\n    ? scoresList[scoresList.length - 1].record : ['-', '-', '-'];\n\n  const handleCLick = () => setIsActive(!isActive);\n  const handleSpin = (min, max) => {\n    setBalance(balance - spinCost);\n    x = Math.floor(Math.random() * (max - min + 1)) + min;\n    y = Math.floor(Math.random() * (max - min + 1)) + min;\n    z = Math.floor(Math.random() * (max - min + 1)) + min;\n\n    if (scoresList[0].record[0] === '?') {\n      setScoresList(scoresList.splice(scoresList[0], 1));\n    }\n\n    setScoresList([...scoresList, {\n      id: scoresList.length + 1,\n      record: [x, y, z],\n      time: new Date().toLocaleTimeString(),\n    }]);\n\n    const changeBalance = (value) => {\n      setBalance(balance - spinCost + value);\n    };\n\n    if ([x, y, z].every(item => item === 7)) {\n      changeBalance(10);\n    } else if (x === y && y === z) {\n      changeBalance(5);\n    } else if (x === y && y !== z\n      || y === z && z !== x\n      || z === x && x !== y) {\n      changeBalance(0.5);\n    }\n  };\n\n  return (\n    <div\n      className={isActive ? 'game active' : 'game'}\n      onClick={handleCLick}\n      aria-hidden=\"true\"\n    >\n      <div\n        className=\"game__content\"\n        onClick={e => e.stopPropagation()}\n        aria-hidden=\"true\"\n      >\n        <h1>\n          Your balance is: $\n          {balance}\n        </h1>\n        <div className=\"game__slots\">\n          <div className=\"game__slot game__slot--one\">\n            <div className=\"boxes\">\n              <h1 className=\"game__number\">{x}</h1>\n            </div>\n          </div>\n\n          <div className=\"game__slot game__slot--two\">\n            <div className=\"boxes\">\n              <h1 className=\"game__number\">{y}</h1>\n            </div>\n          </div>\n\n          <div className=\"game__slot game__slot--three\">\n            <div className=\"boxes\">\n              <h1 className=\"game__number\">{z}</h1>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"game__buttons\">\n          <button\n            type=\"button\"\n            className=\"game__button button\"\n            onClick={balance >= spinCost ? () => handleSpin(1, 9) : () => {}}\n            disabled={balance < spinCost}\n          >\n            {balance >= spinCost ? 'Spin' : 'No money'}\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"game__button button\"\n            onClick={() => handleSpin(7, 7)}\n          >\n            Fake 777\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"game__button game__button--close button\"\n            onClick={handleCLick}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nGame.propTypes = {\n  isActive: PropTypes.bool.isRequired,\n  setIsActive: PropTypes.func.isRequired,\n  scoresList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number,\n    record: PropTypes.arrayOf(PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])),\n    time: PropTypes.string,\n  })).isRequired,\n  setScoresList: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n  setBalance: PropTypes.func.isRequired,\n  spinCost: PropTypes.number.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Game } from '../Game/Game';\nimport './Content.scss';\n\nexport const Content = ({\n  scoresList,\n  setScoresList,\n  balance,\n  setBalance,\n  spinCost,\n  setIsGuest,\n  isGuest,\n}) => {\n  const [isActive, setIsActive] = useState(false);\n\n  const onSort = (e) => {\n    // const { value } = e.target.dataset;\n\n    // setScoresList(scoresList.slice().sort((a, b) => a - b));\n    setScoresList(scoresList.slice().reverse());\n  };\n\n  return (\n    <main className=\"App__main main\">\n      <table className=\"App__table table\">\n        <thead>\n          <tr>\n            <th\n              onClick={onSort}\n              data-value=\"id\"\n              name=\"id\"\n              className=\"table__clickable\"\n            >\n              ID\n            </th>\n            <th>Scores</th>\n            <th\n              onClick={onSort}\n              data-value=\"time\"\n              className=\"table__clickable\"\n            >\n              Time\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {scoresList[0].record[0] !== '?' ? (\n            scoresList.map((item, index) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <tr key={index + 1}>\n                <td>{item.id}</td>\n                <td>{item.record.join(' ')}</td>\n                <td>{item.time}</td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td>-</td>\n              <td>-</td>\n              <td>-</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n\n      {!isGuest ? (\n        <>\n          <div className=\"content__buttons\">\n            <button\n              type=\"button\"\n              onClick={() => setIsActive(!isActive)}\n              className=\"content__button button\"\n            >\n              Play a game\n            </button>\n          </div>\n\n          <Game\n            isActive={isActive}\n            setIsActive={setIsActive}\n            setScoresList={setScoresList}\n            scoresList={scoresList}\n            balance={balance}\n            setBalance={setBalance}\n            spinCost={spinCost}\n          />\n        </>\n      ) : (\n        <div className=\"content__buttons\">\n          <p>To play and save records you need to</p>\n          <button\n            type=\"button\"\n            onClick={() => setIsGuest(!isGuest)}\n            className=\"content__button button\"\n          >\n            Login\n          </button>\n        </div>\n      )}\n    </main>\n  );\n};\n\nContent.propTypes = {\n  scoresList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number,\n    record: PropTypes.arrayOf(PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ])),\n    time: PropTypes.string,\n  })).isRequired,\n  setScoresList: PropTypes.func.isRequired,\n  balance: PropTypes.number.isRequired,\n  setBalance: PropTypes.func.isRequired,\n  spinCost: PropTypes.number.isRequired,\n  setIsGuest: PropTypes.func.isRequired,\n  isGuest: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport './Footer.scss';\n\nexport const Footer = () => (\n  <footer className=\"App__footer footer\">\n    <div className=\"footer__copyrights\">\n      <strong>\n        copyrights 2021 by\n        {' '}\n        <a href=\"https://github.com/vamonospest\">\n          Dmitry Morozov\n        </a>\n      </strong>\n    </div>\n  </footer>\n);\n","import React, { useState } from 'react';\nimport { Login } from './components/Login/Login';\nimport { Header } from './components/Header/Header';\nimport { Content } from './components/Content/Content';\nimport { Footer } from './components/Footer/Footer';\nimport './App.scss';\n\nexport const App = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isGuest, setIsGuest] = useState(false);\n  const [nameQuery, setNameQuery] = useState('');\n  const [userName, setUserName] = useState('');\n  const [isNameCorrect, setIsNameCorrect] = useState(false);\n\n  let user = {};\n\n  const [balance, setBalance] = useState(user.balance || 99.99);\n\n  localStorage.setItem(`${userName}`, JSON.stringify({\n    name: userName,\n    balance,\n  }));\n\n  user = JSON.parse(localStorage[`${userName}`]);\n\n  const [scoresList, setScoresList] = useState([{\n    id: 0,\n    record: ['?', '?', '?'],\n    time: new Date().toLocaleTimeString(),\n  }]);\n  const spinCost = 1;\n\n  const handleInputChange = (e) => {\n    const { value } = e.target;\n\n    if (value.length > 3) {\n      setIsNameCorrect(true);\n    } else {\n      setIsNameCorrect(false);\n    }\n\n    setNameQuery(value);\n  };\n\n  const handleSubmit = () => {\n    if (nameQuery.length > 3) {\n      setIsLoggedIn(!isLoggedIn);\n    }\n\n    setUserName(nameQuery);\n    setBalance(JSON.parse(localStorage[`${userName}`]).balance);\n    localStorage.setItem(`${nameQuery}`, JSON.stringify({\n      name: nameQuery,\n      balance,\n    }));\n\n    setNameQuery('');\n  };\n\n  return (\n    <div className=\"App\">\n      {isLoggedIn || isGuest ? (\n        <>\n          <Header\n            balance={balance}\n            userName={userName}\n            isGuest={isGuest}\n          />\n          <Content\n            setScoresList={setScoresList}\n            scoresList={scoresList}\n            balance={balance}\n            setBalance={setBalance}\n            spinCost={spinCost}\n            setIsGuest={setIsGuest}\n            isGuest={isGuest}\n            userName={userName}\n          />\n          <Footer />\n        </>\n      )\n        : (\n          <Login\n            nameQuery={nameQuery}\n            handleInputChange={handleInputChange}\n            handleSubmit={handleSubmit}\n            isNameCorrect={isNameCorrect}\n            setIsLoggedIn={setIsLoggedIn}\n            isGuest={isGuest}\n            setIsGuest={setIsGuest}\n          />\n        )\n      }\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}